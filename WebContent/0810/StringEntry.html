<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href = "../css/public.css">


<script>
function proc1(){
	reg = prompt("주민번호 13자리를 입력하세요.  ex)XXXXXX-XXXXXXX")
	
	year = reg.substr(0, 2);
	month = reg.substr(2, 2);
	day = reg.substr(4, 2);
	
	if(reg.charAt(7)==1){
		birth = "19";
		gender = "남자";
	}else if(reg.charAt(7)==3){
		birth = "20";we
		gender = "남자";
	}else if(reg.charAt(7)==2){
		birth = "19";
		gender = "여자";
	}else{
		birth = "20";
		gender = "여자";
	}
	
	today = new Date();
	age = today.getFullYear() - (birth.concat(year));
	
	res = "생일 : "+birth.concat(year)+"년 "+month+"월 "+day+"일"+"<br>";
	res += "성별 : "+gender+"/"+"나이 : "+age+"<br>";
	
	document.querySelector('#result1').innerHTML = res;
}

function proc2(){
	str = "234567892345";	//String
	reg = prompt("주민번호 13자리를 입력하세요.  ex)XXXXXX-XXXXXXX");
	
	regarr = reg.split("-")	// "-"기준으로 잘라서 배열로 리턴
	
	reg = regarr[0].concat(regarr[1]);	// "-"빼고 숫자 열자리만
	console.log("reg = "+reg);
	console.log("reg.length = "+reg.length);
	
	sum=0;
	for(i=0; i<reg.length-1; i++){
		sum += reg[i]*str.charAt(i);
	}
	
	value = 11-(sum%11);
	
	if(value == 10){
		value = 0;
	}else if(value == 11){
		value = 1;
	}
	
	//5번값
	if(value == reg.charAt(12)){
		res = "주민번호"+reg.substr(0, 6)+"<br>"; 
		res += "유효한 주민번호 입니다.";
	} else {
		res = "유효하지 않은 주민번호 입니다.";
	} 
	
	
	document.querySelector('#result2').innerHTML = res;
		
}

</script>
</head>
<body>

<div class="box">
		<h3>1. 주민등록번호를 입력받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.</h3>
		입력은 prompt로 받는다.<br>
		ex_) 주민등록번호를 110326-4432618로 입력받은 경우<br>
		생일 : 2011년 3월 26일<br>
		성별: 여자 / 나이 : 
		<br><br>
		<input type="button" value="주민번호 검사" onclick="proc1()"><br><br>
		<div id="result1"></div>
	</div>

<div class="box">
		<h3>1. 주민등록번호를 입력받아 주민번호의 유효성을 검사하는 프로그램을 작성하시오. .(ABCDEF-GHIJKLM) </h3>
		A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다. <br>
		1. 1번의 합을 11로 나눈 나머지를 구한다. <br>
		2. 11에서 2번의 결과를 뺀다. <br>
		3. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환 <br>
		4. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.
		<br><br>
		<input type="button" value="유효성 검사" onclick="proc2()"><br><br>
		<div id="result2"></div>
	</div>
</body>
</html>